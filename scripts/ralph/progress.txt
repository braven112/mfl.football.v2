# Ralph Progress Log
## Codebase Patterns
- **Astro Styles:** often placed at the bottom of `.astro` files. Use `:global` to override child component styles.
- **Layouts:** `TheLeagueLayout` is the primary wrapper for pages.
- **Print Styles:** Use `@media print` in the page's `<style>` block. Use `:global` to hide layout elements (nav, header) and force colors/widths.
- **Global Selectors:** When styling components imported into a page (like `AuctionControlPanel`), use `:global(.class-name)` if the styles are scoped to the page.
- **Imports:** When moving code from `src/pages/...` to `src/scripts/...`, remember that `../../` in pages (depth 3) maps to `../` in scripts (depth 2) for accessing `src/` root.

Started: Fri Jan  9 23:11:18 PST 2026
---
## Fri Jan 9 2026 - US-001
- Implemented HelpModal component.
- Added Help button to auction-predictor.astro header.
- Files changed: src/components/theleague/HelpModal.astro, src/pages/theleague/auction-predictor.astro
---
## Fri Jan 9 2026 - US-002
- Implemented print-friendly styles for the Auction Predictor.
- Added a print-only header with the current date.
- Added `@media print` styles to hide navigation, controls, and force high-contrast layout.
- Files changed: src/pages/theleague/auction-predictor.astro
- **Learnings:**
  - The `!important` flag is often necessary in print styles to override specific component styles (like background colors).
  - Checking `package.json` for build scripts (`pnpm run build:apps`) is crucial for verification.
---
## Fri Jan 9 2026 - US-003
- Refactored ~5300 lines of inline client script from `src/pages/theleague/auction-predictor.astro` to `src/scripts/auction-predictor-controller.ts`.
- Updated import paths in the new controller file.
- Updated Astro page to load the script from the new location.
- Verified build (`pnpm run build`) passes.
- Files changed: src/pages/theleague/auction-predictor.astro, src/scripts/auction-predictor-controller.ts
- **Learnings:**
  - `sed` is useful for extracting large chunks of text, but line counts must be precise.
  - Moving files changes import depths (`../../` -> `../`).
  - `vitest` config environment `node` causes failures in tests expecting `document` (unrelated to this change but noted).
---
