---
/**
 * MetricCard - Reusable metric display card component
 * Displays a single metric with label, value, and optional sub-text/hint
 */

export interface Props {
  /** Metric label (e.g., "Cap Space", "Players Signed") */
  label: string;
  /** Primary display value (e.g., "$5.2 million", "18") */
  value: string;
  /** Optional subtitle below the main value */
  subtitle?: string;
  /** Optional hint text in small, colored text (e.g., error messages) */
  hint?: string;
  /** Hint style variant: 'error' (red), 'warning' (amber), 'info' (blue) */
  hintVariant?: 'error' | 'warning' | 'info';
  /** Optional ID for the value element (for dynamic updates) */
  valueId?: string;
  /** Optional ID for the subtitle element (for dynamic updates) */
  subtitleId?: string;
  /** Optional ID for the hint element (for dynamic updates) */
  hintId?: string;
}

const {
  label,
  value,
  subtitle,
  hint,
  hintVariant = 'error',
  valueId,
  subtitleId,
  hintId,
} = Astro.props;
---

<article class="metric-card">
  <p class="metric-card__label">{label}</p>
  <strong class="metric-card__value" id={valueId}>{value}</strong>
  {subtitle && (
    <span class="metric-card__subtitle" id={subtitleId}>{subtitle}</span>
  )}
  {hint && (
    <small class={`metric-card__hint metric-card__hint--${hintVariant}`} id={hintId}>
      {hint}
    </small>
  )}
</article>

<style>
  .metric-card {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1.25rem;
    background: var(--card-bg-color, #ffffff);
    border-radius: 12px;
    border: 1px solid var(--border-color, #e5e7eb);
    transition: box-shadow 0.2s ease, transform 0.2s ease;
  }

  .metric-card:hover {
    box-shadow: var(--box-shadow-hover, 0 4px 12px rgba(0, 0, 0, 0.08));
    transform: translateY(-2px);
  }

  .metric-card__label {
    font-size: 0.875rem;
    color: var(--text-secondary-color, #64748b);
    font-weight: 500;
    margin: 0;
  }

  .metric-card__value {
    font-size: 1.19rem;
    font-weight: 700;
    color: #111;
    line-height: 1.2;
  }

  .metric-card__subtitle {
    font-size: 0.875rem;
    color: var(--text-secondary-color, #64748b);
    font-weight: 400;
  }

  .metric-card__hint {
    font-size: 0.75rem;
    font-weight: 500;
    margin-top: 0.25rem;
    display: block;
  }

  .metric-card__hint--error {
    color: var(--error-color, #dc2626);
  }

  .metric-card__hint--warning {
    color: var(--warning-color, #f59e0b);
  }

  .metric-card__hint--info {
    color: var(--info-color, #2563eb);
  }

  @media (max-width: 768px) {
    .metric-card {
      padding: 1rem;
    }

    .metric-card__value {
      font-size: 1.125rem;
    }
  }
</style>
