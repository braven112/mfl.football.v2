---
// TheLeague Footer component
import { getLeagueContext } from '../../utils/league-context';
import leagueAssets from '../../data/theleague.assets.json';

// Detect which league we're in
const league = getLeagueContext(Astro.url);
const isAFL = league.slug === 'afl-fantasy';

// 2024 Champion - Wascawy Wabbits (The League only)
const championTeamId = '0009';
const championTeam = !isAFL ? leagueAssets.teams.find(team => team.id === championTeamId) : null;
const championBanner = championTeam?.assets?.banners?.[0]?.relativePath;
const championIcon = championTeam?.assets?.icons?.[0]?.relativePath;
---

<footer class="site-footer">
	<div class="footer-container">
		<div class="footer-content">
			{!isAFL && (
			<div class="footer-champion">
				<h3 class="champion-title">Defending League Champions</h3>
				<div class="champion-banner">
					{championBanner && (
						<img src={championBanner} alt={`${championTeam?.name} - 2024 Champions`} />
					)}
				</div>
			</div>
		)}

		<!-- Footer Navigation Columns -->
		<div class="footer-nav">
			<div class="footer-column">
				<h4>Tools</h4>
				<ul>
					<li><a href={isAFL ? "/afl-fantasy/rosters" : "/theleague/rosters"}>Roster/Salary</a></li>
					<li><a href={isAFL ? "/afl-fantasy/rosters?view=nextyear" : "/theleague/rosters?view=nextyear"}>Next Year Summary</a></li>
					<li><a href={isAFL ? "/afl-fantasy/calculator" : "/theleague/calculator"}>Extension Calculator</a></li>
					<li><a href={isAFL ? "/afl-fantasy/draft-predictor" : "/theleague/draft-predictor"}>Draft Order</a></li>
					<li><a href={isAFL ? "/afl-fantasy/standings" : "/theleague/standings"}>Standings</a></li>
					<li><a href={isAFL ? "/afl-fantasy/playoffs" : "/theleague/playoffs"}>Playoffs</a></li>
					<li><a href={isAFL ? "/afl-fantasy/rules" : "/theleague/rules"}>Rules</a></li>
				</ul>
			</div>
			<div class="footer-column">
				<h4>Advanced Reports</h4>
				<ul>
					<li><a href={isAFL ? "/afl-fantasy/salary" : "/theleague/salary"}>Salary Benchmarks</a></li>
					<li><a href={isAFL ? "/afl-fantasy/salary-history" : "/theleague/salary-history"}>Salary History</a></li>
					<li><a href={isAFL ? "/afl-fantasy/mvp" : "/theleague/mvp"}>Salary-Adjusted MVPs</a></li>
				</ul>
			</div>
			<div class="footer-column">
				<h4>Brand</h4>
				<ul>
					<li><a href={isAFL ? "/afl-fantasy/assets" : "/theleague/assets"}>Asset Library</a></li>
					{!isAFL && <li><a href="/theleague/icons">Sprite Icons</a></li>}
				</ul>
			</div>
			<div class="footer-column">
				<h4>Leagues</h4>
				<ul>
					<li><a href="https://theleague.us">TheLeague.us</a></li>
					<li><a href="https://afl-fantasy.com">AFL Fantasy</a></li>
				</ul>
			</div>
		</div>

	</div>
	</div>
</footer>

<style>
	.site-footer {
		background: var(--inverse-content-bg);
		color: white;
		margin-top: auto;
		width: 100%;
	}

	.footer-container {
		width: 100%;
		padding: 3rem 1.5rem 2rem;
		box-sizing: border-box;
	}

	.footer-content {
		max-width: 1200px;
		margin: 0 auto;
		display: grid;
		grid-template-columns: 300px 1fr;
		gap: 3rem;
		align-items: start;
	}

	/* Defending League Champions Section */
	.footer-champion {
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}

	.champion-title {
		font-size: 1.125rem;
		font-weight: 700;
		color: white;
		margin: 0 0 0.5rem 0;
		text-transform: none;
	}

	.champion-banner {
		position: relative;
		width: 100%;
		max-width: 300px;
	}

	.champion-banner img {
		width: 100%;
		height: auto;
		display: block;
		border-radius: 8px;
	}

	.champion-info {
		position: absolute;
		bottom: 12px;
		left: 12px;
		display: flex;
		align-items: center;
		gap: 0.75rem;
		background: rgba(0, 0, 0, 0.7);
		padding: 0.5rem 1rem;
		border-radius: 6px;
	}

	.champion-icon {
		width: 32px;
		height: 32px;
		border-radius: 4px;
	}

	.champion-name {
		font-size: 1rem;
		font-weight: 700;
		color: white;
	}

	.footer-credit {
		font-size: 0.875rem;
		color: #a1a1a1;
		margin: 0.5rem 0 0 0;
	}

	/* Footer Navigation */
	.footer-nav {
		display: grid;
		grid-template-columns: repeat(4, 1fr);
		gap: 2rem;
	}

	.footer-column h4 {
		font-size: 0.875rem;
		font-weight: 700;
		color: white;
		margin: 0 0 0.75rem 0;
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	.footer-column ul {
		list-style: none;
		padding: 0;
		margin: 0;
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
	}

	.footer-column li {
		margin: 0;
	}

	.footer-column a {
		color: #e2e8f0;
		text-decoration: none;
		font-size: 0.875rem;
		transition: color 0.2s ease;
	}

	.footer-column a:hover {
		color: var(--secondary-color, #2e8743);
		text-decoration: none;
	}

	/* Responsive adjustments */
	@media (max-width: 960px) {
		.footer-content {
			grid-template-columns: 1fr;
			gap: 2rem;
		}

		.footer-nav {
			grid-template-columns: repeat(2, 1fr);
			gap: 1.5rem;
		}

		.champion-banner {
			max-width: 100%;
		}
	}

	@media (max-width: 640px) {
		.footer-nav {
			grid-template-columns: 1fr;
			gap: 1.5rem;
		}

		.champion-info {
			bottom: 8px;
			left: 8px;
			padding: 0.375rem 0.75rem;
		}

		.champion-icon {
			width: 24px;
			height: 24px;
		}

		.champion-name {
			font-size: 0.875rem;
		}
	}
</style>
